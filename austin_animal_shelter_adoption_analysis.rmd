---
title: "austin_animal_shelter_adoption_analysis"
author: "Nathan Funckes"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
require(devtools)
install_github("Displayr/flipTime")
library(flipTime)
```

## Read Data

```{r read data}

intakes <- read_csv(here::here("data","Austin_Animal_Center_Intakes.csv"))
outcomes <- read_csv(here::here("data","Austin_Animal_Center_Outcomes.csv"))
```
```{r rename variables in intial datasets}
outcomes_renamed <- outcomes%>%
  rename("id"="Animal ID","name"="Name","outcomeDateTime"="DateTime","outcomeMonthYear"="MonthYear","dateOfBirth"="Date of Birth","outcomeType"="Outcome Type","outcomeSubtype"="Outcome Subtype","animalType"="Animal Type","outcomeSex"="Sex upon Outcome","outcomeAge"="Age upon Outcome","breed"="Breed","color"="Color")

intakes_renamed <-intakes%>%
  rename("id"="Animal ID","name"="Name","intakeDateTime"="DateTime","intakeMonthYear"="MonthYear","foundLocation"="Found Location","intakeType"="Intake Type","ointakeCondition"="Intake Condition","animalType"="Animal Type","intakeSex"="Sex upon Intake","intakeAge"="Age upon Intake","breed"="Breed","color"="Color")
```


```{r combine datasets only on entries in both}
combined <- merge(intakes_renamed,outcomes_renamed,by=c("id"="id","name"="name","animalType"="animalType","breed"="breed","color"="color"))
adoption_data_dirty <- combined
```



```{r make data tidy}
adoption_data_dirty
```

```{r}
ggplot(data = adoption_data_dirty, mapping = aes(x = animalType)) +
  geom_bar()
```
remove non-cat/dogs
```{r}
adoption_data <- subset(adoption_data_dirty, animalType == "Cat" | animalType == "Dog" )
```



```{r}
ggplot(data = adoption_data, mapping = aes(x = animalType)) +
  geom_bar()
```


transform intakeAge and outcomeAge into numerical variables
transform the dates into date variables

```{r transform intakeAge, outcomeAge, dateOfBirth into date variables}
adoption_data$intakeDateTime <- AsDateTime(adoption_data$intakeDateTime)
adoption_data$outcomeDateTime <- AsDateTime(adoption_data$outcomeDateTime)
adoption_data$dateOfBirth <- AsDate(adoption_data$dateOfBirth)
adoption_data
```

split outcomeMonthYear and intakeMonthYear into separate Month Year variables
```{r}
```

transform intakeAge and outcomeAge into numerical values
```{r}
```

summarize intakeAge and outcomeAge
```{r}
```

create plots for dates and ages

Is it possible to predict an animals outcome type based on the data that an adoption center can verify when intaking an animal?